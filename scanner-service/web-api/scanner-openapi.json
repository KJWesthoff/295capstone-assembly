{"openapi":"3.1.0","info":{"title":"VentiAPI Scanner - Railway Edition","description":"Microservice API Security Scanner with Redis Job Queue","version":"1.0.0"},"paths":{"/health":{"get":{"summary":"Health Check","description":"Health check endpoint for Railway","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/login":{"post":{"summary":"Login","description":"Authenticate user and return JWT token","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scan/start":{"post":{"summary":"Start Scan","description":"Start a new security scan using job queue","operationId":"start_scan_api_scan_start_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_start_scan_api_scan_start_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScanResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/scan/{scan_id}/status":{"get":{"summary":"Get Scan Status","description":"Get current scan status with job queue information","operationId":"get_scan_status_api_scan__scan_id__status_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"scan_id","in":"path","required":true,"schema":{"type":"string","title":"Scan Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScanStatus"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scan/{scan_id}/findings":{"get":{"summary":"Get Scan Findings","description":"Get scan findings from actual scanner output files","operationId":"get_scan_findings_api_scan__scan_id__findings_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"scan_id","in":"path","required":true,"schema":{"type":"string","title":"Scan Id"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scan/{scan_id}/report":{"get":{"summary":"Get Scan Report","description":"Get comprehensive scan report with scanner attribution","operationId":"get_scan_report_api_scan__scan_id__report_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"scan_id","in":"path","required":true,"schema":{"type":"string","title":"Scan Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scan/{scan_id}/report/html":{"get":{"summary":"Get Scan Report Html","description":"Get HTML formatted scan report for download","operationId":"get_scan_report_html_api_scan__scan_id__report_html_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"scan_id","in":"path","required":true,"schema":{"type":"string","title":"Scan Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scans":{"get":{"summary":"List Scans","description":"List all scans for the user","operationId":"list_scans_api_scans_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/scan/{scan_id}":{"delete":{"summary":"Delete Scan","description":"Delete a scan and cleanup job data","operationId":"delete_scan_api_scan__scan_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"scan_id","in":"path","required":true,"schema":{"type":"string","title":"Scan Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/queue/stats":{"get":{"summary":"Get Queue Stats","description":"Get queue statistics (admin only)","operationId":"get_queue_stats_api_queue_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/scanners":{"get":{"summary":"Get Available Scanners","description":"Get list of available scanner engines","operationId":"get_available_scanners_api_scanners_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/queue/cleanup":{"post":{"summary":"Cleanup Old Jobs","description":"Cleanup old job data (admin only)","operationId":"cleanup_old_jobs_api_queue_cleanup_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"Body_start_scan_api_scan_start_post":{"properties":{"server_url":{"type":"string","title":"Server Url"},"target_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Target Url"},"rps":{"type":"number","title":"Rps","default":2.0},"max_requests":{"type":"integer","title":"Max Requests","default":400},"dangerous":{"type":"boolean","title":"Dangerous","default":false},"fuzz_auth":{"type":"boolean","title":"Fuzz Auth","default":false},"scanners":{"type":"string","title":"Scanners","default":"ventiapi"},"spec_file":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Spec File"}},"type":"object","required":["server_url"],"title":"Body_start_scan_api_scan_start_post"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"LoginRequest"},"ScanResponse":{"properties":{"scan_id":{"type":"string","title":"Scan Id"},"status":{"type":"string","title":"Status"}},"type":"object","required":["scan_id","status"],"title":"ScanResponse"},"ScanStatus":{"properties":{"scan_id":{"type":"string","title":"Scan Id"},"status":{"type":"string","title":"Status"},"progress":{"type":"integer","title":"Progress","default":0},"current_phase":{"type":"string","title":"Current Phase","default":"Initializing"},"findings_count":{"type":"integer","title":"Findings Count","default":0},"parallel_mode":{"type":"boolean","title":"Parallel Mode","default":false},"total_chunks":{"type":"integer","title":"Total Chunks","default":1},"chunk_status":{"items":{"type":"object"},"type":"array","title":"Chunk Status","default":[]},"job_ids":{"items":{"type":"string"},"type":"array","title":"Job Ids","default":[]},"queue_stats":{"type":"object","title":"Queue Stats","default":{}}},"type":"object","required":["scan_id","status"],"title":"ScanStatus"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}